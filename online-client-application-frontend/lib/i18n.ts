"use client"

// Creating internationalization system with support for EN, FR, AR
export type Language = "en" | "fr" | "ar"

export interface Translation {
  [key: string]: string | Translation
}

export const translations: Record<Language, Translation> = {
  en: {
    common: {
      loading: "Loading...",
      error: "Error",
      success: "Success",
      cancel: "Cancel",
      confirm: "Confirm",
      save: "Save",
      delete: "Delete",
      edit: "Edit",
      search: "Search",
      filter: "Filter",
      sort: "Sort",
      back: "Back",
      next: "Next",
      previous: "Previous",
      close: "Close",
      open: "Open",
      yes: "Yes",
      no: "No",
      ok: "OK",
      apply: "Apply",
      reset: "Reset",
      clear: "Clear",
      select: "Select",
      selectAll: "Select All",
      none: "None",
      all: "All",
      more: "More",
      less: "Less",
      show: "Show",
      hide: "Hide",
      view: "View",
      download: "Download",
      upload: "Upload",
      share: "Share",
      copy: "Copy",
      paste: "Paste",
      cut: "Cut",
      undo: "Undo",
      redo: "Redo",
      refresh: "Refresh",
      reload: "Reload",
      update: "Update",
      create: "Create",
      add: "Add",
      remove: "Remove",
      submit: "Submit",
      send: "Send",
      receive: "Receive",
      login: "Login",
      logout: "Logout",
      register: "Register",
      profile: "Profile",
      settings: "Settings",
      help: "Help",
      about: "About",
      contact: "Contact",
      privacy: "Privacy",
      terms: "Terms",
      home: "Home",
      dashboard: "Dashboard",
      menu: "Menu",
      cart: "Cart",
      orders: "Orders",
      favorites: "Favorites",
      notifications: "Notifications",
      account: "Account",
      payment: "Payment",
      delivery: "Delivery",
      pickup: "Pickup",
      restaurant: "Restaurant",
      restaurants: "Restaurants",
      food: "Food",
      drink: "Drink",
      drinks: "Drinks",
      price: "Price",
      total: "Total",
      subtotal: "Subtotal",
      tax: "Tax",
      discount: "Discount",
      fee: "Fee",
      tip: "Tip",
      quantity: "Quantity",
      size: "Size",
      category: "Category",
      categories: "Categories",
      rating: "Rating",
      reviews: "Reviews",
      review: "Review",
      time: "Time",
      date: "Date",
    },
    restaurant: {
      name: "Smart Restaurant",
      tagline: "Discover flavors with AI",
      findRestaurants: "Find Restaurants",
      orderNow: "Order Now",
      viewMenu: "View Menu",
      bookTable: "Book a Table",
      openNow: "Open Now",
      closedNow: "Closed Now",
      deliveryTime: "Delivery Time",
      minimumOrder: "Minimum Order",
      freeDelivery: "Free Delivery",
    },
    navigation: {
      home: "Home",
      search: "Search",
      cart: "Cart",
      orders: "Orders",
      profile: "Profile",
    },
    auth: {
      signIn: "Sign In",
      signUp: "Sign Up",
      signOut: "Sign Out",
      email: "Email",
      password: "Password",
      confirmPassword: "Confirm Password",
      forgotPassword: "Forgot Password?",
      rememberMe: "Remember Me",
      createAccount: "Create Account",
      alreadyHaveAccount: "Already have an account?",
      dontHaveAccount: "Don't have an account?",
    },
  },
  fr: {
    common: {
      loading: "Chargement...",
      error: "Erreur",
      success: "Succès",
      cancel: "Annuler",
      confirm: "Confirmer",
      save: "Enregistrer",
      delete: "Supprimer",
      edit: "Modifier",
      search: "Rechercher",
      filter: "Filtrer",
      sort: "Trier",
      back: "Retour",
      next: "Suivant",
      previous: "Précédent",
      close: "Fermer",
      open: "Ouvrir",
      yes: "Oui",
      no: "Non",
      ok: "OK",
      apply: "Appliquer",
      reset: "Réinitialiser",
      clear: "Effacer",
      select: "Sélectionner",
      selectAll: "Tout sélectionner",
      none: "Aucun",
      all: "Tout",
      more: "Plus",
      less: "Moins",
      show: "Afficher",
      hide: "Masquer",
      view: "Voir",
      download: "Télécharger",
      upload: "Téléverser",
      share: "Partager",
      copy: "Copier",
      paste: "Coller",
      cut: "Couper",
      undo: "Annuler",
      redo: "Refaire",
      refresh: "Actualiser",
      reload: "Recharger",
      update: "Mettre à jour",
      create: "Créer",
      add: "Ajouter",
      remove: "Supprimer",
      submit: "Soumettre",
      send: "Envoyer",
      receive: "Recevoir",
      login: "Connexion",
      logout: "Déconnexion",
      register: "S'inscrire",
      profile: "Profil",
      settings: "Paramètres",
      help: "Aide",
      about: "À propos",
      contact: "Contact",
      privacy: "Confidentialité",
      terms: "Conditions",
      home: "Accueil",
      dashboard: "Tableau de bord",
      menu: "Menu",
      cart: "Panier",
      orders: "Commandes",
      favorites: "Favoris",
      notifications: "Notifications",
      account: "Compte",
      payment: "Paiement",
      delivery: "Livraison",
      pickup: "À emporter",
      restaurant: "Restaurant",
      restaurants: "Restaurants",
      food: "Nourriture",
      drink: "Boisson",
      drinks: "Boissons",
      price: "Prix",
      total: "Total",
      subtotal: "Sous-total",
      tax: "Taxe",
      discount: "Remise",
      fee: "Frais",
      tip: "Pourboire",
      quantity: "Quantité",
      size: "Taille",
      category: "Catégorie",
      categories: "Catégories",
      rating: "Note",
      reviews: "Avis",
      review: "Avis",
      time: "Heure",
      date: "Date",
    },
    restaurant: {
      name: "Restaurant Intelligent",
      tagline: "Découvrez les saveurs avec l'IA",
      findRestaurants: "Trouver des restaurants",
      orderNow: "Commander maintenant",
      viewMenu: "Voir le menu",
      bookTable: "Réserver une table",
      openNow: "Ouvert maintenant",
      closedNow: "Fermé maintenant",
      deliveryTime: "Temps de livraison",
      minimumOrder: "Commande minimum",
      freeDelivery: "Livraison gratuite",
    },
    navigation: {
      home: "Accueil",
      search: "Recherche",
      cart: "Panier",
      orders: "Commandes",
      profile: "Profil",
    },
    auth: {
      signIn: "Se connecter",
      signUp: "S'inscrire",
      signOut: "Se déconnecter",
      email: "Email",
      password: "Mot de passe",
      confirmPassword: "Confirmer le mot de passe",
      forgotPassword: "Mot de passe oublié?",
      rememberMe: "Se souvenir de moi",
      createAccount: "Créer un compte",
      alreadyHaveAccount: "Vous avez déjà un compte?",
      dontHaveAccount: "Vous n'avez pas de compte?",
    },
  },
  ar: {
    common: {
      loading: "جاري التحميل...",
      error: "خطأ",
      success: "نجح",
      cancel: "إلغاء",
      confirm: "تأكيد",
      save: "حفظ",
      delete: "حذف",
      edit: "تعديل",
      search: "بحث",
      filter: "تصفية",
      sort: "ترتيب",
      back: "رجوع",
      next: "التالي",
      previous: "السابق",
      close: "إغلاق",
      open: "فتح",
      yes: "نعم",
      no: "لا",
      ok: "موافق",
      apply: "تطبيق",
      reset: "إعادة تعيين",
      clear: "مسح",
      select: "اختيار",
      selectAll: "اختيار الكل",
      none: "لا شيء",
      all: "الكل",
      more: "المزيد",
      less: "أقل",
      show: "إظهار",
      hide: "إخفاء",
      view: "عرض",
      download: "تحميل",
      upload: "رفع",
      share: "مشاركة",
      copy: "نسخ",
      paste: "لصق",
      cut: "قص",
      undo: "تراجع",
      redo: "إعادة",
      refresh: "تحديث",
      reload: "إعادة تحميل",
      update: "تحديث",
      create: "إنشاء",
      add: "إضافة",
      remove: "إزالة",
      submit: "إرسال",
      send: "إرسال",
      receive: "استقبال",
      login: "تسجيل الدخول",
      logout: "تسجيل الخروج",
      register: "التسجيل",
      profile: "الملف الشخصي",
      settings: "الإعدادات",
      help: "مساعدة",
      about: "حول",
      contact: "اتصال",
      privacy: "الخصوصية",
      terms: "الشروط",
      home: "الرئيسية",
      dashboard: "لوحة التحكم",
      menu: "القائمة",
      cart: "السلة",
      orders: "الطلبات",
      favorites: "المفضلة",
      notifications: "الإشعارات",
      account: "الحساب",
      payment: "الدفع",
      delivery: "التوصيل",
      pickup: "الاستلام",
      restaurant: "مطعم",
      restaurants: "المطاعم",
      food: "طعام",
      drink: "مشروب",
      drinks: "مشروبات",
      price: "السعر",
      total: "المجموع",
      subtotal: "المجموع الفرعي",
      tax: "الضريبة",
      discount: "خصم",
      fee: "رسوم",
      tip: "إكرامية",
      quantity: "الكمية",
      size: "الحجم",
      category: "الفئة",
      categories: "الفئات",
      rating: "التقييم",
      reviews: "المراجعات",
      review: "مراجعة",
      time: "الوقت",
      date: "التاريخ",
    },
    restaurant: {
      name: "المطعم الذكي",
      tagline: "اكتشف النكهات مع الذكاء الاصطناعي",
      findRestaurants: "العثور على المطاعم",
      orderNow: "اطلب الآن",
      viewMenu: "عرض القائمة",
      bookTable: "حجز طاولة",
      openNow: "مفتوح الآن",
      closedNow: "مغلق الآن",
      deliveryTime: "وقت التوصيل",
      minimumOrder: "الحد الأدنى للطلب",
      freeDelivery: "توصيل مجاني",
    },
    navigation: {
      home: "الرئيسية",
      search: "البحث",
      cart: "السلة",
      orders: "الطلبات",
      profile: "الملف الشخصي",
    },
    auth: {
      signIn: "تسجيل الدخول",
      signUp: "إنشاء حساب",
      signOut: "تسجيل الخروج",
      email: "البريد الإلكتروني",
      password: "كلمة المرور",
      confirmPassword: "تأكيد كلمة المرور",
      forgotPassword: "نسيت كلمة المرور؟",
      rememberMe: "تذكرني",
      createAccount: "إنشاء حساب",
      alreadyHaveAccount: "لديك حساب بالفعل؟",
      dontHaveAccount: "ليس لديك حساب؟",
    },
  },
}

import { createContext, useContext } from "react"

interface TranslationContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
  isRTL: boolean
}

export const TranslationContext = createContext<TranslationContextType | undefined>(undefined)

export function useTranslation() {
  const context = useContext(TranslationContext)
  if (!context) {
    throw new Error("useTranslation must be used within a TranslationProvider")
  }
  return context
}

export function getNestedTranslation(obj: Translation, path: string): string {
  const keys = path.split(".")
  let current: any = obj

  for (const key of keys) {
    if (current && typeof current === "object" && key in current) {
      current = current[key]
    } else {
      return path // Return the key if translation not found
    }
  }

  return typeof current === "string" ? current : path
}

export const RTL_LANGUAGES: Language[] = ["ar"]

export function isRTLLanguage(language: Language): boolean {
  return RTL_LANGUAGES.includes(language)
}
